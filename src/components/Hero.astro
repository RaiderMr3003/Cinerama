---
import { Image } from "astro:assets";
import { Swiper, SwiperWrapper, SwiperSlide, SwiperButtonPrev, SwiperButtonNext } from "astro-swiper";
import { Clock, Star, Calendar } from "@lucide/astro";

import movies from "../data/movies.json";

// Importar im√°genes
import peli1 from "../assets/betterman.webp";
import peli2 from "../assets/chainsawman.webp";
import peli3 from "../assets/spiderman.webp";
import peli4 from "../assets/endgame.webp";

const imagenes = {
  peli1,
  peli2,
  peli3,
  peli4
};
---

<Swiper
  options={{
    autoplay: {
      delay: 3500,
      disableOnInteraction: false,
      waitForTransition: false,
    },
    loop: true,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
  }}
>
  <SwiperWrapper>
    {movies.map((movie) => (
      <SwiperSlide>
        <div class="relative w-screen h-screen">
          <Image
            src= {imagenes[movie.image]}
            class="w-full h-full object-cover"
            alt={movie.title}
            loading="eager"
          />

          <div class="absolute bottom-0 left-0 w-full h-40 bg-gradient-to-t from-black to-transparent pointer-events-none"></div>

          <div class="absolute inset-0 flex flex-col justify-center items-start text-white bg-black/70 pl-16">
            <h1 class="text-3xl md:text-5xl lg:text-7xl font-bold">{movie.title}</h1>
            <p class="text-sm md:text-lg mt-2">{movie.subtitle}</p>

            <div class="flex flex-wrap items-center gap-4 mt-2 mb-4 text-sm">
              <div class="flex items-center space-x-2">
                <Calendar size={16} />
                <span>{movie.date}</span>
              </div>
              <div class="flex items-center space-x-2">
                <Clock size={16} />
                <span>{movie.duration}</span>
              </div>
              <div class="flex items-center space-x-2">
                <Star size={16} class="text-yellow-400" />
                <span>{movie.rating}</span>
              </div>
              <span class="bg-blue-600 px-2 py-1 rounded text-xs">{movie.genre}</span>
            </div>

            <div>
              <a href={movie.trailer} target="_blank">
                <button class="bg-yellow-400 text-black font-bold px-6 py-2 rounded-lg" style="cursor:pointer;">
                  Ver Trailer
                </button>
              </a>
            </div>
          </div>
        </div>
      </SwiperSlide>
    ))}
  </SwiperWrapper>
  <SwiperButtonPrev />
  <SwiperButtonNext />
</Swiper>
